appsettings.json

{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "ConexaoPadrao": "Server=.\\MASTER;Database=dbFinanceiro;User Id=sa;Password=master.123;TrustServerCertificate=True"
  }

}





    public class AppDbContext : DbContext
    {
        public AppDbContext(DbContextOptions<AppDbContext> options) : base(options) { }

        public DbSet<Agencia> Agencia { get; set; }

    }


using System.ComponentModel.DataAnnotations;

namespace PrjFinanceiro.Models
{
    public class Agencia
    {
        [Key]
        public int Codigo { get; set; }
        public string Nome { get; set; }
        public string Cidade { get; set; }
        public string EstadoUF { get; set; }
    }
}




using Microsoft.AspNetCore.Mvc;
using PrjFinanceiro.Models;
using System.Linq;

namespace PrjFinanceiro.Controllers
{
    public class AgenciaController : Controller
    {
        private readonly AppDbContext _context;

        public AgenciaController(AppDbContext context)
        {
            _context = context;
        }

        public IActionResult Index()
        {
            var lista = _context.Agencia.ToList();
            return View(lista); // Passa a lista para a View
        }


    }
}


@model IEnumerable<PrjFinanceiro.Models.Agencia>
<div class="container mt-5">
    <h2 class="mb-4">Lista de Agências Bancárias</h2>
    <p>
        <a href="/Agencia/Criar" class="btn btn-success">Cadastrar Nova Agência</a>
    </p>
    <table class="table table-bordered table-hover">
        <thead class="thead-dark">
            <tr>
                <th>Código</th>
                <th>Nome da Agência</th>
                <th>Cidade</th>
                <th>Estado (UF)</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@item.Codigo</td>
                    <td>@item.Nome</td>
                    <td>@item.Cidade</td>
                    <td>@item.EstadoUF</td>
                    <td>
                        <a href="/Agencia/Editar/@item.Codigo" class="btn btn-sm btn-primary">Editar</a>
                        <a href="/Agencia/Excluir/@item.Codigo" class="btn btn-sm btn-danger">Excluir</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

